(window.webpackJsonpnewswindow=window.webpackJsonpnewswindow||[]).push([[0],{10:function(e,t,n){},35:function(e,t,n){e.exports=n(64)},40:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(32),c=n.n(o),s=(n(40),n(10),["business-insider","engadget","Globalnews.ca","mashable","reddit-r-all","the-wall-street-journal","Gizmodo.com","Insider.com","Boingboing.net","Yahoo.com","Huffpost.com","Economist.com","Ctvnews.ca","Thesun.co.uk","Lifehacker.com","Kinja.com","Youtube.com","Aol.com","Hackaday.com","Fastcompany.com","Readwrite.com","Slashdot.org","Androidcentral.com","Theintercept.com","Washingtonexaminer.com","The Next Web","Lfpress.com","Castanet.net","Cnet.com","Jerseyeveningpost.com","Thetakeout.com","Express.co.uk","Gmanetwork.com","Wpxi.com","Newyorker.com","Jezebel.com","Vox.com","Macrumors.com","Rollingstone.com","Frandroid.com","Refinery29.com","Qz.com","Thinkprogress.org","Sfgate.com","Msn.com"]),i=n(1),l=n.n(i),u=n(8),m=n(14),d=n(15),p=n(17),h=n(16),f=n(18),g=function(e){console.log("this is NewsList: props",e);var t=e.newsList.slice(0,10);return r.a.createElement("section",null,e.newsList.length?t.map(function(e,t){return r.a.createElement("div",{className:"news-item"},r.a.createElement("h3",null,e.title),r.a.createElement("a",{href:e.url,target:"blank"},"Link"),r.a.createElement("p",null,e.description))}):r.a.createElement("h1",null,"No news yet.... ",r.a.createElement("br",null),"Start a Search!"))},w=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){console.log("this is handleChange",e.target.value),n.setState({value:e.target.value})},n.state={value:""},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:function(t){return e.props.searchInput(t,e.state.value)}},r.a.createElement("input",{type:"text",placeholder:"Search and Compare!",onChange:this.handleChange,value:this.state.value}),r.a.createElement("button",{type:"submit"},"Submit"))}}]),t}(r.a.Component),b=["Globalnews.ca","engadget","mashable","reddit-r-all","the-wall-street-journal","Gizmodo.com","Insider.com","Boingboing.net","Yahoo.com","Huffpost.com","Economist.com","Ctvnews.ca","Thesun.co.uk","Lifehacker.com","Kinja.com","Youtube.com","Aol.com","Hackaday.com","Theatlantic.com","Fastcompany.com","Npr.org","Readwrite.com","Slashdot.org","Androidcentral.com","Theintercept.com","Salon.com","Washingtonexaminer.com","Slate.com","The Next Web","Lfpress.com","castanet.net","Cnet.com","Jerseyeveningpost.com","Thetakeout.com","Express.co.uk","Gmanetwork.com","Wpxi.com","Newyorker.com","Jezebel.com","Vox.com","Macrumors.com","Rollingstone.com","Frandroid.com","Refinery29.com","Qz.com","Thinkprogress.org","Sfgate.com","Msn.com"];var v=function(e){return console.log("this is Home: props",e),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"NewsWindow: How Countries See The News"),r.a.createElement(w,{searchInput:e.searchInput}),r.a.createElement("div",{className:"container"},r.a.createElement(g,{className:"us-news-list",newsList:e.searchList.filter(function(e,t){return"us"===e.country&&"engadget"!==e.id&&"mashable"!==e.id&&"reddit-r-all"!==e.id&&"the-wall-street-journal"!==e.id})}),r.a.createElement(g,{className:"uk-news-list",newsList:e.searchList.filter(function(e,t){return"gb"===e.country})}),r.a.createElement(g,{className:"world-news-list",newsList:e.worldResultList})))};var y=function(e){return console.log("this is About: props",e),r.a.createElement("div",null,r.a.createElement("h2",null,"About This Project"))},k=n(11),E=n.n(k),L=n(9),S=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={sourceList:JSON.parse(window.localStorage.getItem("sourceList"))||[],newsList:[],searchList:[],usSearchList:[],gbSearchList:[],wdSearchList:[],worldResultList:[],userInput:""},n.makeSourceCall=Object(u.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://newsapi.org/v2/sources?apiKey=ded05226f8e9489888443d1b682e93c6",e.next=3,E.a.get("https://newsapi.org/v2/sources?apiKey=ded05226f8e9489888443d1b682e93c6");case 3:t=e.sent,a=t.data.sources.filter(function(e){return!s.includes(e.name)}).map(function(e,t){var n={id:e.id,name:e.name,url:e.url,language:e.language,country:e.country};return console.log("sourceItem.name",n.name),console.log("sourceList",a),n}),window.localStorage.setItem("sourceList",JSON.stringify(a)),n.setState({sourceList:a});case 7:case"end":return e.stop()}},e)})),n.makeSearchCall=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r,o,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("this is searchCall"),a="https://newsapi.org/v2/everything?q="+t+"&sortBy=popularity&pageSize=100&apiKey=ded05226f8e9489888443d1b682e93c6",e.next=4,E.a.get(a);case 4:r=e.sent,o=n.state.sourceList,console.log("this is response",r),c=r.data.articles.filter(function(e){return!b.includes(e.name)}).map(function(e,t){var n={title:e.title,url:e.url,image:e.urlToImage,summary:e.description,id:e.source.id,name:e.source.name};return o.forEach(function(e){"Reuters"===n.name||"reuters"===n.id?n.country="gb":n.name!==e.name&&n.id!==e.id||(n.country=e.country)}),console.log(n.name),n}),n.setState({searchList:c});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.makeUSCall=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("this is USCall"),a="https://newsapi.org/v2/everything?q="+t+"&domains=washingtonpost.com,cnn.com,latimes.com, foxnews.com,ap.org,nytimes.com&sortBy=popularity&pageSize=20&apiKey=ded05226f8e9489888443d1b682e93c6",e.next=4,E.a.get(a);case 4:r=e.sent,console.log("this is US response",r),o=r.data.articles.filter(function(e){return!b.includes(e.name)}).map(function(e,t){var n={title:e.title,url:e.url,image:e.urlToImage,summary:e.description,id:e.source.id,name:e.source.name};return console.log(n.name),n}),n.setState({usSearchList:o});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.makeGBCall=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("this is USCall"),a="https://newsapi.org/v2/everything?q="+t+"&domains=bbc.co.uk,guardian.com,dailymail.co.uk,independent.co.uk,telegraph.co.uk,mirror.co.uk,metro.co.uk&sortBy=popularity&pageSize=20&apiKey=ded05226f8e9489888443d1b682e93c6",e.next=4,E.a.get(a);case 4:r=e.sent,console.log("this is GB response",r),o=r.data.articles.filter(function(e){return!b.includes(e.name)}).map(function(e,t){var n={title:e.title,url:e.url,image:e.urlToImage,summary:e.description,id:e.source.id,name:e.source.name};return console.log(n.name),n}),n.setState({gbSearchList:o});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.translateText=function(){var e=Object(u.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20190827T203759Z.5526d2e4bd7cba98.4a7c48b1d1c3898045ae0697422b0cb8578be0bd&text="+t+"&lang=en",e.next=3,E.a.post(n);case 3:return a=e.sent,e.abrupt("return",a.data.text[0]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.makeWorldCall=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("this is World Call"),a="https://newsapi.org/v2/everything?q="+t+"&domains=lemonde.fr,tagesspiegel.de,zeit.de,elmundo.es,globo.com,handelsblatt.com,lagaceta.com.ar,repubblica.it,lenta.ru,lesechos.fr,liberation.fr,news24.com,rbc.ru,rtlnieuws.nl,spiegel.de,svd.se,thehindu.com,jpost.com,wiwo.de,xinhuanet.com&sortBy=popularity&pageSize=20&apiKey=ded05226f8e9489888443d1b682e93c6",e.next=4,E.a.get(a);case 4:r=e.sent,console.log("this is World response",r),o=r.data.articles.filter(function(e){return!b.includes(e.name)}).map(function(e,t){var n={title:e.title,url:e.url,image:e.urlToImage,summary:e.description,id:e.source.id,name:e.source.name};return console.log(n.name),n}),n.setState({wdSearchList:o});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.makeWorldList=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.state.searchList.filter(function(e){return"us"!==e.country&&"gb"!==e.country&&"ca"!==e.country&&!b.includes(e.name)}).map(function(){var e=Object(u.a)(l.a.mark(function e(t,a){var r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.translateText(t.title);case 2:return r=e.sent,o={title:r,url:t.url,summary:t.description,name:t.name},e.abrupt("return",o);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 2:return t=e.sent,e.next=5,Promise.all(t);case 5:t=e.sent,n.setState({worldResultList:t});case 7:case"end":return e.stop()}},e)})),n.handleClick=function(){var e=Object(u.a)(l.a.mark(function e(t,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("Search term submitted",a),e.next=4,n.makeSearchCall(a);case 4:n.makeWorldList();case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){console.log("sourcelist",this.state.sourceList),0===this.state.sourceList.length&&this.makeSourceCall(),console.log("componentDidMount")}},{key:"render",value:function(){var e=this;return r.a.createElement("main",null,r.a.createElement(L.c,null,r.a.createElement(L.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(v,{searchInput:e.handleClick,searchList:e.state.searchList,newsList:e.state.newsList,worldResultList:e.state.worldResultList})}}),r.a.createElement(L.a,{path:"/about",component:y})))}}]),t}(r.a.Component),x=n(7);var j=function(e){return r.a.createElement("header",{class:"topnav",id:"myTopnav"},r.a.createElement("li",null,r.a.createElement(x.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/about"},"About This Project")),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/about"},"How to Contribute")))};var C=function(e){return r.a.createElement("footer",null,r.a.createElement("li",null,"\xa9 2019 Marie-France Han"),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/about"},"About This Project")))};var T=function(){return r.a.createElement("body",null,r.a.createElement("div",{className:"App"},r.a.createElement(j,null),r.a.createElement(S,null),r.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x.a,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.6be1cdbc.chunk.js.map